//CHECKSUM:defa4a624e17f656adf0b3a4c7a5f1d7b520217759ffa7dad8dd011c346e3630
{"version":3,"sources":["../hooks/before_bot_import/.import_validations.js"],"names":["fs","require","validateImport","files","readdirSync","tmpFolder"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;AAEA;;;;;;;;;;;;AAUA,MAAMC,cAAc,GAAG,YAAY;AACjC;AACA,QAAMC,KAAK,GAAGH,EAAE,CAACI,WAAH,CAAeC,SAAf,CAAd,CAFiC,CAIjC;AACA;AACD,CAND;;AAQA,OAAOH,cAAc,EAArB","sourceRoot":"/var/lib/jenkins/workspace/build-linux/modules/builtin/src/backend","sourcesContent":["const fs = require('fs')\n\n/**\n * This hook is called when a user uses the SDK to import a bot.\n * You can read the content of the temporary folder to analyze the bot's content. You can also change the content.\n *\n * To cancel the import, set the value `hookResult.allowImport = false`\n *\n * @param bp The botpress SDK\n * @param botId The ID of the bot\n * @param tmpFolder The submitted archive is extracted in this folder.\n */\nconst validateImport = async () => {\n  // Read the files from the extracted archive. Check for prohibited files, etc.\n  const files = fs.readdirSync(tmpFolder)\n\n  // If you want to abort the import operation:\n  // hookResult.allowImport = false\n}\n\nreturn validateImport()\n"]}